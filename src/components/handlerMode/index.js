import React from "react";
import { useDispatch, useSelector } from "react-redux";

const handlerModePaths = {
    "draw": <path d="M402.77333333 2.27555555c-59.89262222 0-109.22666667 49.33404445-109.22666666 109.22666667v430.09820445l-23.88423112-25.04931556-9.10222222-7.97354666a108.06158222 108.06158222 0 0 0-152.48042666 0 108.06158222 108.06158222 0 0 0 0 152.48042666v1.12867556l298.11598222 294.69354666 2.25735111 1.12867556 1.12867555 2.29376a302.44864 302.44864 0 0 0 182.04444445 61.42179556h62.62328889a297.46062222 297.46062222 0 0 0 298.07957333-298.11598223V439.18222222c0-59.89262222-49.37045333-109.22666667-109.22666667-109.22666667-15.51018667 0-29.85528889 4.25984-43.25376 10.23089778C787.90656 292.85489778 744.83484445 257.13777778 694.04444445 257.13777778c-27.88920889 0-53.48465778 10.92266667-72.81777778 28.43534222A108.64412445 108.64412445 0 0 0 548.40888889 257.13777778a107.40622222 107.40622222 0 0 0-36.40888889 6.84487111V111.50222222c0-59.89262222-49.33404445-109.22666667-109.22666667-109.22666667z m0 72.81777778c20.20693333 0 36.40888889 16.20195555 36.40888889 36.40888889v400.49777778h72.81777778v-145.63555555c0-20.20693333 16.20195555-36.40888889 36.40888889-36.4088889 20.20693333 0 36.40888889 16.20195555 36.40888889 36.4088889v145.63555555h72.81777777v-145.63555555c0-20.20693333 16.20195555-36.40888889 36.4088889-36.4088889 20.20693333 0 36.40888889 16.20195555 36.40888888 36.4088889v145.63555555h76.24021334v-72.81777778c0-20.20693333 16.20195555-36.40888889 36.40888888-36.40888889 20.17052445 0 36.40888889 16.20195555 36.4088889 36.40888889v284.46264889c0 126.12039111-99.14140445 225.26179555-225.29820445 225.26179556h-62.55047111c-53.33902222 0-99.43267555-19.04184889-137.69841778-47.80487112l-294.69354666-291.2711111c-16.20195555-16.20195555-16.20195555-33.86026667 0-50.06222223 16.23836445-16.20195555 33.86026667-16.20195555 50.06222222 0L366.36444445 716.8V111.50222222c0-20.20693333 16.20195555-36.40888889 36.40888888-36.40888889z"></path>,
    "handler": <path d="M371.35894623 933.82683868a35.15424307 35.15424307 0 0 1-33.04498837-24.6079704l-246.07970317-773.3933517A35.15424307 35.15424307 0 0 1 100.67127268 100.67127268a35.15424307 35.15424307 0 0 1 35.1542439-8.43701798l773.3933517 246.07970316A35.15424307 35.15424307 0 0 1 933.82683868 371.35894623a35.15424307 35.15424307 0 0 1-23.90488522 35.15424308l-262.60219775 87.53406591 241.1581094 240.80656641a35.15424307 35.15424307 0 0 1 0 49.91902596l-105.46273003 105.46272922a35.15424307 35.15424307 0 0 1-49.91902516 0l-240.8065664-241.15810857L406.51318931 909.92195346A35.15424307 35.15424307 0 0 1 371.35894623 933.82683868z m105.46273004-386.69667626a35.15424307 35.15424307 0 0 1 24.95951258 10.19473049l256.27443364 256.62597583L813.95086874 758.0556225l-256.62597583-256.27443365a35.15424307 35.15424307 0 0 1-9.14010315-33.04498838 35.15424307 35.15424307 0 0 1 22.8502587-25.31105557l214.08934131-70.30848614L179.41677762 179.41677762 371.35894623 785.12438977l70.30848697-214.08934131a35.15424307 35.15424307 0 0 1 25.31105475-22.8502587A31.99036103 31.99036103 0 0 1 476.82167627 547.13016241z"></path>
}

function HandlerMode() {
    const newAction = useDispatch();
    const { handlerMode = 'draw' } = useSelector((state) => state);
    const changeHandlerMode = () => newAction({
        type: "CHANGE_HANDLER_MODE",
        handlerMode: handlerMode === 'handler' ? 'draw' : 'handler'
    });
    return (
        <div className="tool-bar-group" onClick={changeHandlerMode}>
            <svg key={handlerMode} className="tool-bar-item" viewBox="0 0 1024 1024"
                xmlns="http://www.w3.org/2000/svg" width="28" height="28">
                {handlerModePaths[handlerMode]}
            </svg>
        </div>
    );
}

export default HandlerMode;
